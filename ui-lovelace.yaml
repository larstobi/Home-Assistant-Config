resources:
  - url: /local/circle-sensor-card.js?v=0
    type: module

title: HAL 9000

views:
  - title: State
    theme: dark-mode
    id: state
    icon: mdi:home-assistant
    cards:
      - type: glance
        entities:
          - entity: alarm_control_panel.home_alarm
            name: Alarm
          - entity: input_select.home_state
            name: Home State
          - entity: lock.front_door_lock_locked
            name: Front door
            tap_action: toggle
          - entity: input_boolean.door_autolock
            name: Autolock
            tap_action: toggle
          - entity: input_boolean.vacation_mode
            tap_action: toggle
          - entity: input_select.time_of_day
          - entity: sensor.average_temperature
            name: Avg temperature
          - entity: sensor.average_humidity
            name: Avg humidity
          - entity: light.house_ventilation_dimmer_level
            name: Ventilation

      - type: conditional
        conditions:
          - entity: group.motion
            state: "on"
        card:
          type: entity-filter
          entities:
            - entity: binary_sensor.backhall_garden_door_sensor
            - entity: binary_sensor.balcony_door_sensor_2
            - entity: binary_sensor.bedroom_garden_door_sensor
            - entity: binary_sensor.dining_room_stairs_motion_sensor_sensor
            - entity: binary_sensor.dressingroom_motion_sensor_sensor
            - entity: binary_sensor.dryer_activity
            - entity: binary_sensor.entrance_hallway_motion_sensor_sensor
            - entity: binary_sensor.family_bathroom_multisensor_sensor
            - entity: binary_sensor.hallway_toilet_motion_sensor_sensor
            - entity: binary_sensor.kitchen_island_motion_sensor_sensor
            - entity: binary_sensor.kitchen_table_motion_sensor_sensor
            - entity: binary_sensor.kitchen_window_3_sensor
            - entity: binary_sensor.laundry_multisensor_sensor
            - entity: binary_sensor.master_bathroom_multisensor_sensor
            - entity: binary_sensor.training_room_motion_sensor_sensor
            - entity: binary_sensor.tv_area_motion_sensor_sensor
            - entity: binary_sensor.washing_machine_activity
          state_filter:
            - 'detected'
            - 'on'
          card: 
            type: glance
            title: Triggered sensors
            show_state: false

      - type: conditional
        conditions:
          - entity: device_tracker.google_maps_117621586906275495071
            state: 'home'
          - entity: device_tracker.google_maps_106703534047375134126
            state: 'home'
        card:
          type: entity-filter
          entities:
            - entity: device_tracker.google_maps_117621586906275495071
              name: Tor Magnus
            - entity: device_tracker.google_maps_106703534047375134126
              name: Lande
            - entity: device_tracker.tesla_model_x_5yjxcce22jf095567_location_tracker
              name: Marvin
          state_filter:
            - 'home'
          card:
            type: glance
            title: People that are home
            show_state: false

      - type: picture-elements
        image: /local/tesla.png
        elements:
          - type: state-icon
            tap_action: toggle
            entity: switch.tesla_model_x_5yjxcce22jf095567_charger_switch
            style:
              top: 90%
              left: 95%
          - type: state-label
            entity: sensor.tesla_model_x_5yjxcce22jf095567_battery_sensor
            style:
              top: 90%
              left: 90%
          - type: state-label
            entity: sensor.tesla_model_x_5yjxcce22jf095567_range_sensor
            style:
              top: 10%
              left: 92%
              suffix: km
          - type: state-icon
            entity: binary_sensor.tesla_model_x_5yjxcce22jf095567_charger_sensor
            style:
              top: 51%
              left: 85%
          - type: state-label
            entity: sensor.tesla_model_x_5yjxcce22jf095567_temperature_sensor_inside
            style:
              top: 50%
              left: 50%
              color: white
          - type: state-label
            entity: sensor.tesla_model_x_5yjxcce22jf095567_temperature_sensor_outside
            style:
              top: 10%
              left: 50%
          - type: state-icon
            entity: climate.tesla_model_x_5yjxcce22jf095567_hvac_climate_system
            style:
              top: 10%
              left: 5%
          - type: state-icon
            tap_action: toggle
            entity:  lock.tesla_model_x_5yjxcce22jf095567_door_lock
            style:
              top: 90%
              left: 5%

      - type: map
        aspect_ratio: 60%
        entities:
          - device_tracker.google_maps_117621586906275495071
          - device_tracker.google_maps_106703534047375134126
          - device_tracker.tesla_model_x_5yjxcce22jf095567_location_tracker

  - title: People
    id: people
    icon: mdi:account-multiple
    cards:
      - type: entities
        title: Tor Magnus
        show_header_toggle: false
        entities:
          - input_datetime.alarm_time_tor
          - input_boolean.alarm_override_tor
          - input_boolean.alarm_workday_tor
          - input_boolean.sleep_state_tor
          - entity: device_tracker.google_maps_117621586906275495071
            name: Location
          - sensor.steps
          - sensor.weight
          - sensor.resting_heart_rate
          - sensor.sleep_minutes_asleep
      - type: entities
        title: Lande
        show_header_toggle: false
        entities:
          - input_datetime.alarm_time_lande
          - input_boolean.alarm_override_lande
          - input_boolean.alarm_workday_lande
          - input_boolean.sleep_state_lande
          - entity: device_tracker.google_maps_106703534047375134126
            name: Location
      - type: entities
        title: Ingrid Sofia
        show_header_toggle: false
        entities:
          - input_datetime.alarm_time_ingrid
          - input_boolean.alarm_override_ingrid
          - input_boolean.alarm_workday_ingrid
          - input_boolean.sleep_state_ingrid
          - entity: device_tracker.ipad__ingrid
            name: Location
      - type: entities
        title: Guests
        show_header_toggle: false
        entities:
          - input_boolean.guests_present
          - input_boolean.sleep_state_guests


  - title: Lights
    id: lights
    icon: mdi:lightbulb
    cards:
      - type: glance
        title: Outside
        entities:
          - entity: light.porch
            name: Porch
            tap_action: toggle
          - entity: light.balcony
            name: Balcony
            tap_action: toggle
          - entity: light.terrace
            name: Terrace
            tap_action: toggle
          - entity: sensor.weather_temperature
            name: Temperature
          - entity: sensor.weather_humidity
            name: Humidity
          - entity: sensor.weather_precipitation
            name: Precipitation
          - entity: sensor.weather_wind_speed
            name: Wind speed
          - entity: sensor.weather_cloudiness
            name: Cloudiness

      - type: glance
        title: Entrance Hallway
        entities:
          - entity: light.entrance_hallway_ceiling_lights_level
            name: Ceiling
          - entity: sensor.entrance_hallway_motion_sensor_temperature
            name: Temperature
          - entity: sensor.entrance_hallway_motion_sensor_luminance
            name: Luminance

      - type: glance
        title: Entrance Toilet
        entities:
          - entity: light.hallway_toilet_ceiling_dimmer_level
            name: Ceiling
            tap_action: toggle
          - entity: sensor.hallway_toilet_motion_sensor_temperature
            name: Temperature
          - entity: sensor.hallway_toilet_motion_sensor_luminance
            name: Luminance
    
      - type: glance
        title: Laundy
        entities:
          - entity: light.laundry_dimmer_level
            name: Ceiling
            tap_action: toggle
          - entity: binary_sensor.washing_machine_activity
            name: Washer
          - entity: binary_sensor.dryer_activity
            name: Dryer
          - entity: sensor.laundry_multisensor_temperature
            name: Temperature
          - entity: sensor.laundry_multisensor_relative_humidity
            name: Humidity
          - entity: sensor.laundry_multisensor_luminance
            name: Luminance
            
      - type: glance
        title: Kitchen
        entities:
          - entity: light.kitchen_bench_ceiling_lights_level
            name: Bench
          - entity: light.kitchen_table_ceiling_lamp_level
            name: Table
          - entity: light.kitchen_hallway_ceiling_lights_level
            name: Hallway
          - entity: input_boolean.dinner_time
            name: Dinner time
          - entity: sensor.kitchen_table_motion_sensor_temperature
            name: Table
          - entity: sensor.kitchen_table_motion_sensor_luminance
            name: Table
          - entity: sensor.kitchen_island_motion_sensor_temperature
            name: Bench
          - entity: sensor.kitchen_island_motion_sensor_luminance
            name: Bench
          - entity: sensor.kitchen_hallway_humidity
            name: Humidity
            
      - type: glance
        title: Dining Room
        entities:
          - entity: light.nook
            name: Nook
            tap_action: toggle
          - entity: light.sofa
            name: Sofa
            tap_action: toggle
          - entity: light.cabinet
            name: Cabinet
            tap_action: toggle
          - entity: light.table
            name: Table
            tap_action: toggle
          - entity: light.bookshelf
            name: Bookshelf
            tap_action: toggle
          - entity: light.dining_room_rail_1_level
            name: Office
          - entity: light.dining_room_rail_2_level
            name: Dining
          #- entity: light.dining_room_rail_3_level
          - entity: climate.high_window
            name: Heater
          - entity: sensor.dining_room_stairs_motion_sensor_temperature
            name: Temperature
          - entity: sensor.dining_room_stairs_motion_sensor_luminance
            name: Luminance
          - entity: sensor.balcony_door_sensor_temperature

      - type: glance
        title: TV Lounge
        entities:
          - entity: light.tv_area_level
            name: TV
          - entity: light.sofa_area_level
            name: Sofa
          - entity: light.hallway_area_level
            name: Hallway
          - entity: switch.tv_room_tv_switch
            name: TV
            tap_action: toggle
            icon: mdi:television
          - entity: sensor.tv_area_motion_sensor_temperature
            name: Temperature
          - entity: sensor.tv_area_motion_sensor_luminance
            name: Luminance
          - entity: sensor.tv_hallway_humidity
            name: Humidity

      - type: glance
        title: Family Bathroom
        entities:
          - entity: light.family_bathroom_dimmer_level
            name: Ceiling
            tap_action: toggle
          - entity: sensor.family_bathroom_multisensor_temperature
            name: Temperature
          - entity: sensor.family_bathroom_multisensor_relative_humidity
            name: Humidity

      - type: glance
        title: Changing Room
        entities:
          - entity: light.wardrobes
            name: Wardrobes
            tap_action: toggle
          - entity: light.changing_room_ceiling_light_level
            name: Ceiling
            tap_action: toggle
          - entity: sensor.dressingroom_motion_sensor_temperature
            name: Temperature
          - entity: sensor.dressingroom_motion_sensor_luminance
            name: Luminance

      - type: glance
        title: Master Bathroom
        entities:
          - entity: light.master_bathroom_dimmer_level
            name: Ceiling
          - entity: sensor.master_bathroom_multisensor_temperature
            name: Temperature
          - entity: sensor.master_bathroom_multisensor_relative_humidity
            name: Humidity

      - type: glance
        title:  Master Bedroom
        entities:
          - entity: light.bedroom_tv_backlight_level
            name: TV
          - entity: light.bedside_lamp_dimmer_level
            name: Nightstand
          - entity: light.dresser
            name: Dresser
            tap_action: toggle
          - entity: sensor.master_bedroom_humidity
            name: Humidity

      - type: glance
        title: Ingrid Bedroom
        entities:
          - entity: light.ingrid_bedroom_ceiling_light_level
            name: Ceiling
            tap_action: toggle
          - entity: light.ingrid_bedroom_bed_light_level
            name: Bed

      - type: glance
        title: Downstairs hallway
        entities:
          - entity: light.downstairs_hallway_pendant_level
            name: Ceiling
            tap_action: toggle

#      - type: glance
#        title: Guest Bedroom
#        entities:

#      - type: glance
#        title: Storage Room
#        entities:

      - type: glance
        title: Training Room
        entities:
          - entity: sensor.training_room_humidity
            name: Humidity
          - entity: sensor.training_room_motion_sensor_temperature
            name: Temperature
          - entity: sensor.training_room_motion_sensor_luminance
            name: Luminance

#      - type: glance
#        title: Work Room
#        entities:


  - title: Cameras
    id: cameras
    icon: mdi:camera
    cards:
      - type: picture-glance
        title: Side lawn
        camera_image: camera.side_lawn
        entities: 
          - switch.entrance_outside_light_switch
      - type: picture-glance
        title: Front entrance
        camera_image: camera.front_door
        entities: 
          - switch.entrance_outside_light_switch
      - type: picture-glance
        title: Front hallway
        camera_image: camera.hallway_camera
        entities:
          - light.entrance_hallway_ceiling_lights_level
      - type: picture-glance
        title: Parking area
        camera_image: camera.car_parking
        entities: 
          - switch.entrance_outside_light_switch
      - type: picture-glance
        title: Front garden
        camera_image: camera.front_lawn
        entities: 
          - switch.terrace_outside_light_switch
      - type: picture-glance
        title: Back garden
        camera_image: camera.back_garden
        entities: 
          - switch.terrace_outside_light_switch
      - type: picture-glance
        title: Tool shed
        camera_image: camera.tool_shed
        entities: 
          - switch.terrace_outside_light_switch


  - title: Power
    id: power
    icon: mdi:flash
    cards:
      - type: glance
        title: Price
        entities:
          - entity: sensor.electricity_price
            name: Price kWh
          - entity: binary_sensor.low_priced_electricity

      - type: entities
        title: Currently used
        entities:
          - sensor.balcony_outside_light_power
          - sensor.bedroom_tv_backlight_power
          - sensor.cabinet_lights_power
          - sensor.changing_room_ceiling_light_power
          - sensor.corner_standing_lamp_power
          - sensor.dining_room_rail_1_power
          - sensor.dining_room_rail_2_power
          - sensor.dining_room_rail_3_power
          - sensor.dining_room_standing_lamp_power
          - sensor.downstairs_hallway_pendant_power
          - sensor.dressing_room_wardrobes_power
          - sensor.dressing_table_light_power
          - sensor.dryer_power
          - sensor.entrance_hallway_ceiling_lights_power
          - sensor.entrance_outside_light_power
          - sensor.family_bathroom_dimmer_power
          - sensor.tv_room_tv_power
          - sensor.hallway_area_power
          - sensor.hallway_toilet_ceiling_dimmer_power
          - sensor.house_ventilation_dimmer_power
          - sensor.ingrid_bedroom_bed_light_power
          - sensor.ingrid_bedroom_ceiling_light_power
          - sensor.kitchen_bench_ceiling_lights_power
          - sensor.kitchen_hallway_ceiling_lights_power
          - sensor.kitchen_table_ceiling_lamp_power
          - sensor.laundry_dimmer_power
          - sensor.master_bathroom_dimmer_power
          - sensor.serving_table_lamp_power
          - sensor.side_table_light_power
          - sensor.sofa_area_power
          - sensor.terrace_outside_light_power
          - sensor.tv_area_power
          - sensor.washing_machine_power
          
      - type: entities
        title: Total consumption
        entities:
          - sensor.balcony_outside_light_energy
          - sensor.bedroom_tv_backlight_energy
          - sensor.cabinet_lights_energy
          - sensor.changing_room_ceiling_light_energy
          - sensor.corner_standing_lamp_energy
          - sensor.dining_room_rail_1_energy
          - sensor.dining_room_rail_2_energy
          - sensor.dining_room_rail_3_energy
          - sensor.dining_room_standing_lamp_energy
          - sensor.downstairs_hallway_pendant_energy
          - sensor.dressing_room_wardrobes_energy
          - sensor.dressing_table_light_unknown
          - sensor.dryer_energy
          - sensor.entrance_hallway_ceiling_lights_energy
          - sensor.entrance_outside_light_energy
          - sensor.family_bathroom_dimmer_energy
          - sensor.tv_room_tv_energy
          - sensor.hallway_area_energy
          - sensor.hallway_toilet_ceiling_dimmer_energy
          - sensor.house_ventilation_dimmer_unknown
          - sensor.ingrid_bedroom_bed_light_energy
          - sensor.ingrid_bedroom_ceiling_light_energy
          - sensor.kitchen_bench_ceiling_lights_energy
          - sensor.kitchen_hallway_ceiling_lights_energy
          - sensor.kitchen_table_ceiling_lamp_energy
          - sensor.laundry_dimmer_energy
          - sensor.master_bathroom_dimmer_energy
          - sensor.serving_table_lamp_energy
          - sensor.side_table_light_energy
          - sensor.sofa_area_energy
          - sensor.terrace_outside_light_energy
          - sensor.tv_area_energy
          - sensor.washing_machine_energy
      
  - title: Config
    id: config
    icon: mdi:wrench
    cards:
      - type: entity-filter
        entities:
          - automation.alarm_triggered
          - automation.arm_home_alarm_home
          - automation.dining_room_off
          - automation.dining_room_on
          - automation.disable_autolock
          - automation.disarm_home_alarm_home
          - automation.downstairs_hallway_off
          - automation.downstairs_hallway_on
          - automation.dressing_room_ceiling_light_off
          - automation.dressing_room_ceiling_light_off_night
          - automation.dressing_room_ceiling_light_on
          - automation.dressing_room_ceiling_light_on_night
          - automation.dryer_started
          - automation.dryer_stopped
          - automation.enable_autolock
          - automation.entrance_hallway_movement
          - automation.entrance_hallway_off
          - automation.entrance_hallway_on
          - automation.family_bathroom_off
          - automation.family_bathroom_on
          - automation.guests_sleeping
          - automation.hallway_toilet_light_on
          - automation.heal_zwave_at_0330
          - automation.home_alarm_armed_away
          - automation.home_alarm_armed_home
          - automation.home_alarm_disarmed
          - automation.home_armed_away_to_verisure_armed_away
          - automation.home_armed_home_to_verisure_armed_home
          - automation.home_disarmed_from_armed_away_to_verisure_disarmed
          - automation.home_disarmed_from_armed_home_to_verisure_disarmed
          - automation.ingrid_awake
          - automation.ingrid_sleeping
          - automation.ingrids_bedroom_off
          - automation.ingrids_bedroom_on
          - automation.kitchen_idle
          - automation.kitchen_off
          - automation.kitchen_on
          - automation.laundry_off
          - automation.laundry_on
          - automation.master_bathroom_off
          - automation.master_bathroom_off_2
          - automation.master_bathroom_on
          - automation.master_bedroom_day
          - automation.master_bedroom_evening
          - automation.master_bedroom_morning
          - automation.master_bedroom_off
          - automation.outside_lights_off
          - automation.outside_lights_off_2
          - automation.outside_lights_on
          - automation.picture_on_open_front_door
          - automation.prewakeup_alarm_ingrid
          - automation.prewakeup_alarm_tmc
          - automation.set_time_of_day_to_day
          - automation.set_time_of_day_to_evening
          - automation.set_time_of_day_to_morning
          - automation.set_time_of_day_to_night
          - automation.set_evening_autolock
          - automation.start_charging_tesla_if_electricity_price_goes_low
          - automation.start_charging_tesla_while_electricity_price_is_low
          - automation.stop_charging_tesla_if_electricity_price_goes_high
          - automation.stop_charging_tesla_while_electricity_price_is_high
          - automation.tv_lounge_chromecast_playing
          - automation.tv_lounge_off
          - automation.tv_lounge_on
          - automation.tv_off
          - automation.tv_on
          - automation.trigger_alarm_while_armed_away
          - automation.trigger_alarm_while_armed_home
          - automation.turn_on_light_when_lande_approaches_home
          - automation.turn_on_light_when_tor_magnus_approaches_home
          - automation.ventilation_high
          - automation.ventilation_low
          - automation.ventilation_off
          - automation.verisure_armed_away_to_home_armed_away
          - automation.verisure_disarmed_to_home_disarmed
          - automation.wake_up_house
          - automation.wakeup_alarm_2
          - automation.wakeup_alarm_ingrid
          - automation.wakeup_alarm_lande
          - automation.wakeup_alarm_tmc
          - automation.washing_machine_started
          - automation.washing_machine_stopped 
        state_filter:
          - 'off'
        card:
          type: glance
          title: Disabled automations
          show_state: true
